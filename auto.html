<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calcolo Costo Totale Auto</title>
</head>
<body>
    <h1>Calcolo del Costo Totale dell'Auto con Finanziamento</h1>
    
    <label for="anticipo">Anticipo (€):</label>
    <input type="number" id="anticipo" step="0.01" required><br><br>

    <label for="rata_mensile">Rata Mensile (€):</label>
    <input type="number" id="rata_mensile" step="0.01" required><br><br>

    <label for="numero_rate">Numero di Rate:</label>
    <input type="number" id="numero_rate" required><br><br>

    <label for="rata_finale">Rata Finale (€):</label>
    <input type="number" id="rata_finale" step="0.01" required><br><br>

    <label for="tan">TAN (%):</label>
    <input type="number" id="tan" step="0.01" required><br><br>

    <button onclick="calcolaCostoTotale()">Calcola Costo Totale</button>

    <h2 id="risultato"></h2>

    <script>
        function calcolaCostoTotale() {
            const anticipo = parseFloat(document.getElementById("anticipo").value);
            const rata_mensile = parseFloat(document.getElementById("rata_mensile").value);
            const numero_rate = parseInt(document.getElementById("numero_rate").value);
            const rata_finale = parseFloat(document.getElementById("rata_finale").value);
            const tan = parseFloat(document.getElementById("tan").value);

            // Calcolo del tasso di interesse mensile
            const tan_mensile = tan / 100 / 12;

            // Calcolo del totale delle rate mensili considerando il TAN
            const totale_rate_mensili = rata_mensile * numero_rate * (1 + tan_mensile * numero_rate / 2);

            // Calcolo del costo totale
            const costo_totale = anticipo + totale_rate_mensili + rata_finale;

            // Mostra il risultato
            document.getElementById("risultato").innerText = `Il costo totale dell'auto è: €${costo_totale.toFixed(2)}`;
        }
    </script>
</body>
</html>
